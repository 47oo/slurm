############################################################################
# Copyright (C) 2002-2006 The Regents of the University of California.
# Produced at Lawrence Livermore National Laboratory (cf, DISCLAIMER).
# Written by Morris Jette <jette1@llnl.gov>
############################################################################

This directory contains a battery of Moab regression tests. The tests make 
use of the "expect" scripting language. You can create "globals.local" and 
identify locations of files to be used in testing, especially the variable 
"moab_dir", which is the installation directory of Moab to be used for testing.
These tests expect single node jobs submitted to the default partition to 
respond within a two minutes. 

If that is not the case, modify the value of "max_job_delay" in the 
"globals.local" file to an appropriate value or the tests will report 
failures due to timeouts.  If there are file propagation delays (e.g. 
due to NFS), the value of "max_file_delay" in the "globals.local" file 
may also need modification.

Each test can be executed independently. Upon successful completion, the test 
will print "SUCCESS" and terminate with an exit code of zero. Upon failure, 
the test will typically print "FAILURE" and an explanation of the failure. 
The message "WARNING" indicates that the cluster configuration can not fully 
test some option (e.g. only one node or partition) and the test terminates with 
an exit code of zero. In the event of a configuration problem or other 
catastrophic test failure other messages could be printed and their cause 
should be investigated. In either case, failing tests will terminate with a 
non-zero exit code and successful tests will terminate with a zero exit code.

The script "regression" or "regression.py" (Python version) will execute all 
of the tests and summarize the results. regression.py contains some filtering
options. A summary of each test is shown below.

There are also scripts to emulate some commands on systems lacking them (e.g. 
AIX). These include pkill and usleep.

############################################################################


test1.#    Testing of msub command.
===================================
test1.1    msub --help
test1.2    msub --version

test2.#    Testing of showq command.
====================================

test3.#    Testing of canceljob command.
========================================
