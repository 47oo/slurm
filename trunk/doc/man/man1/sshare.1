.TH SSHARE "12" "November 2008" "sshare 1.4.0-pre4" "Slurm components"

.SH "NAME"
sshare \- Tool for listing the shares of associations to a cluster.

.SH "SYNOPSIS"
\fBsshare\fR [\fIOPTIONS\fR...] [\fICOMMAND\fR...]

.SH "DESCRIPTION"
\fBsshare\fR is used to view Slurm account information.
The account information is maintained within a database with the interface 
being provided by \fBslurmdbd\fR (Slurm Database daemon).
This database can serve as a central storehouse of user and 
computer information for multiple computers at a single site.
Slurm account information is recorded based upon four parameters
that form what is referred to as an \fIassociation\fR. 
These parameters are \fIuser\fR, \fIcluster\fR, \fIpartition\fR, and 
\fIaccount\fR. \fIuser\fR is the login name.
\fIcluster\fR is the name of a Slurm managed cluster as specified by 
the \fIClusterName\fR parameter in the \fIslurm.conf\fR configuration file. 
\fIpartition\fR is the name of a Slurm partition on that cluster.
\fIaccount\fR is the bank account for a job.


.SH "OPTIONS"

.TP
\fB\-a\fR, \fB\-\-all\fR
List all information.

.TP
\fB\-A\fR, \fB\-\-accounts\fR
List accounts.

.TP
\fB\-h\fR, \fB\-\-help\fR
Print a help message describing the usage of \fBssshare\fR.
This is equivalent to the \fBhelp\fR command.

.TP
\fB\-n\fR, \fB\-\-no_header\fR
No header will be added to the beginning of the output.

.TP
\fB\-p\fR, \fB\-\-parsable\fR
Output will be '|' delimited with a '|' at the end.

.TP
\fB\-P\fR, \fB\-\-parsable2\fR
Output will be '|' delimited without a '|' at the end.

.TP
\fB\-q\fR, \fB\-\-quiet\fR
Print no messages other than error messages.
This is equivalent to the \fBquiet\fR command.

.TP
\fB\-u\fR, \fB\-\-uid\fR
This is equivalent to the \fBreadonly\fR command.

.TP
\fB\-t\fR, \fB\-\-associations\fR
Use with show or list to display associations with the entity.
This is equivalent to the \fBassociations\fR command.

.TP
\fB\-v\fR, \fB\-\-verbose\fR
Enable detailed logging. 
This is equivalent to the \fBverbose\fR command.

.TP
\fB\-V\fR , \fB\-\-version\fR
Display version number.
This is equivalent to the \fBversion\fR command.

.SH "COMMANDS"

.TP
\fBassociations\fR
Use with show or list to display associations with the entity.

.TP
\fBhelp\fP
Display a description of sshare options and commands.

.TP
\fBlist\fR <\fIENTITY\fR> [<\fISPECS\fR>]
Display information about the specified entity.
By default, all entries are displayed, you can narrow results by
specifing SPECS in your query.
Identical to the \fBshow\fR command.

.TP
\fBoneliner\fP
Output one record per line.

.TP
\fBquiet\fP
Print no messages other than error messages.

.TP
\fBverbose\fP
Enable detailed logging. 
This includes time\-stamps on data structures, record counts, etc.
This is an independent command with no options meant for use in interactive mode.

.TP
\fBversion\fP
Display the version number of sshare.


.SH "ENTITIES"

.TP
\fIaccount\fP
A bank account, typically specified at job submit time using the 
\fI\-\-account=\fR option.
These may be arranged in a hierarchical fashion, for example
accounts \fIchemistry\fR and \fIphysics\fR may be children of
the account \fIscience\fR. 
The hierarchy may have an arbitrary depth.

.TP
\fIassociation\fP
The entity used to group information consisting of four parameters:
\fIaccount\fR, \fIcluster\fR, \fIpartition (optional)\fR, and \fIuser\fR.

.TP
\fIcluster\fP
The \fIClusterName\fR parameter in the \fIslurm.conf\fR configuration
file, used to differentiate accounts from on different machines. 

.TP
\fIuser\fR
The login name.

.SH "GENERAL SPECIFICATIONS FOR ASSOCIATION BASED ENTITIES"

.TP
\fIFairshare\fP=<fairshare>
Number used in conjunction with other accounts to determine job priority.
To clear a previously set value use the modify command with a new value of \-1.


.SH "LIST/SHOW ACCOUNTS FORMAT OPTIONS"

.TP
\fIAccount\fP
The name of a bank account.

.TP
\fIDescription\fP
An arbitrary string describing an account.

.TP
\fIOrganization\fP
Organization to which the account belongs.

.TP
\fICoordinators\fP
List of users that are a coordinator of the account. (Only filled in
when using the WithCoordinator option.)

.SH ""
NOTE: If using the WithAssoc option you can also view the information
about the various associations the account may have on all the
clusters in the system.  The Association format fields are described
in the \fILIST/SHOW ASSOCIATION FORMAT OPTIONS\fP section.
.RE

.SH "LIST/SHOW CLUSTER FORMAT OPTIONS"

.TP
\fICluster\fP
The name of the cluster.

.TP
\fIControl Host\fP
When a slurmctld registers with the database the ip address of the
controller is placed here.

.TP
\fIControl Port\fP
When a slurmctld registers with the database the port the controller
is listening on is placed here.

.TP
\fIRPC\fP
When a slurmctld registers with the database the rpc version the controller
is running is placed here.

.SH ""
NOTE: You can also view the information about the root association for
the cluster.  The Association format fields are described
in the \fILIST/SHOW ASSOCIATION FORMAT OPTIONS\fP section.
.RE

.SH "LIST/SHOW TRANSACTIONS FORMAT OPTIONS"

.TP
\fIAction\fP

.TP
\fIActor\fP

.TP
\fIInfo\fP

.TP
\fITimeStamp\fP

.TP
\fIWhere\fP

.SH ""
NOTE: If using the WithAssoc option you can also view the information
about the various associations the transaction effected.  The
Association format fields are described 
in the \fILIST/SHOW ASSOCIATION FORMAT OPTIONS\fP section.
.RE

.SH "LIST/SHOW USER FORMAT OPTIONS"

.TP
\fIAdminLevel\fP
Admin level of user. 

.TP
\fIDefaultAccount\fP
An the users default account.

.TP
\fICoordinators\fP
List of users that are a coordinator of the account. (Only filled in
when using the WithCoordinator option.)

.TP
\fIUser\fP
The name of a user.

.SH ""
NOTE: If using the WithAssoc option you can also view the information
about the various associations the user may have on all the
clusters in the system.  The Association format fields are described
in the \fILIST/SHOW ASSOCIATION FORMAT OPTIONS\fP section.
.RE

.SH "EXAMPLES"
.eo
.br
> sshare -a cluster
.br
.br
> sshare -a account
.br

.ec

.SH "COPYING"
Copyright (C) 2008 Lawrence Livermore National Security.
Produced at Lawrence Livermore National Laboratory (cf, DISCLAIMER).
LLNL\-CODE\-402394.
.LP
This file is part of SLURM, a resource management program.
For details, see <https://computing.llnl.gov/linux/slurm/>.
.LP
SLURM is free software; you can redistribute it and/or modify it under
the terms of the GNU General Public License as published by the Free
Software Foundation; either version 2 of the License, or (at your option)
any later version.
.LP
SLURM is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more
details.

.SH "SEE ALSO"
\fBslurm.conf\fR(5)
\fBslurmdbd\fR(8)
