.\" $Id: salloc.1 8570 2006-07-13 21:12:58Z morrone $
.TH "salloc" "1" "SLURM 1.2" "July 2006" "SLURM Commands"
.SH "NAME"
.LP 
salloc \- Obtain a SLURM job allocation (a set of nodes), execute a command, and then release the allocation when the command is finished.
.SH "SYNOPSIS"
.LP 
salloc [\fIoptions\fP] <\fIcommand\fP> [\fIcommand args\fR]
.SH "DESCRIPTION"
.LP 
salloc is used to allocate a SLURM job allocation, which is a set of resources (nodes), possibly with some set of constraints (e.g. number of processors per node).  When salloc successfully obtains the requested allocation, it then runs the command specified by the user.  Then, when the user specified command is complete, salloc relinquishes the job allocation.

The command may be any program the user wishes.  Some typical commands are xterm, a shell script containing slaunch commands, and slaunch (see the EXAMPLES section).
.SH "OPTIONS"
.LP 
.TP 
\fB\-\-jobid\fR[=]<\fIJOBID\fP>
The job allocation under which the parallel application should be launched.
.TP 
\fB\-n\fR, \fB\-\-ntasks\fR[=]<\fInumber\fR>
Specify the number of processes to launch.  The default is one process per node, but note that the \-c parameter will change this default.
.TP 
\fB\-N\fR, \fB\-\-nodes\fR[=]<\fInumber|[min]\-[max]\fR>
Specify the number of nodes to be used by this job step.  This option accepts either a single number, or a range of possible node counts.  If a single number is used, such as "\-N 4", then the allocation is asking for four and ONLY four nodes.  If a range is specified, such as "\-N 2\-6", SLURM controller may grant salloc anywhere from 2 to 6 nodes.  When using a range, either of the min or max options may be omitted.  For instance, "\-N 10\-" means "no fewer than 10 nodes", and "\-N \-20" means "no more than 20 nodes".  The default value of this option is one node, but other options may require more than one node to be allocated.
.TP 
\fB\-I\fR,\fB\-\-immediate\fR
Do not wait for the resources need to grant this allocation.  Normally salloc will wait for the resources necessary to satisfy the requested job allocation, but when \-\-immediate is specified it will exit immediately without running the \fIcommand\fR parameter.
.TP 
\fB\-W\fR, \fB\-\-wait\fR[=]<\fIseconds\fR>
If the resources needed to satisy a job allocation are not immediately available, the job allocation is enqueued and is said to be PENDING.  This option tells salloc how long (in seconds) to wait for the allocation to be granted before giving up.  When the wait limit has been reached, salloc will exit without running the \fIcommand\fR parameter.  By default, salloc will wait indefinitely.  (The \-\-immediate option makes \-\-wait moot.)
.TP 
\fB\-c\fR, \fB\-\-cpus\-per\-task\fR=<\fIncpus\fR>



.TP 
\fB\-\-help\fR
Output help information and exit.
.TP 
\fB\-V\fR, \fB\-\-version\fR
Output version information and exit.
.SH "ENVIRONMENT VARIABLES"
.LP 
.SH "EXAMPLES"
.LP 
To get an allocation, and open a new xterm in which slaunch commands may be typed interactively:
.IP 
$ salloc \-N16 xterm
salloc: Granted job allocation 65537
(at this point the xterm appears, and salloc waits for xterm to exit)
salloc: Relinquishing job allocation 65537
.LP 
To grab an allocation of nodes and launch a parallel application on one command line (See the \fBsalloc\fR man page for more examples):
.IP 
salloc \-N5 slaunch \-n10 myprogram
.SH "SEE ALSO"
.LP 
sinfo(1), slaunch(1), sbatch(1), squeue(1), scancel(1), scontrol(1), slurm.conf(5), sched_setaffinity(2), numa(3)
